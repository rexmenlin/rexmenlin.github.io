---
sidebar_position: 2
---
## 前言
話說，看了歷年這麼多iThome鐵人賽的文章，覺得這是一個相當好的活動，曾經從歷年鐵人大大們的文章中受惠，在昨天收到iThome的電子報看到最後一天報名，想說要不要也參加一下精實自己的生活，也說不定有機會可以留下一些技術資源文件，希望總會有一天也能夠幫到有需要的人。

這是我第一次參加iThome鐵人賽，主題挑選了永豐金融APIs串接，聊一下原因。目前在職場工作和智慧零售領域有些相關，在公司內部單位轉換了跑道，過去十多年的資訊系統開發背景，所以一陣子沒有機會可以好好寫程式有些懷念，想藉此可以重溫一下曾經碼農的手感外，那麼巧的自己本身就是永豐銀行與永豐證券的用戶，選擇這個永豐金APIs主題完全就是一拍即合。

## 談談主題
由於前面說的，其實是很倉促的情況下才突然在最後一天報名截止前選擇主題與按下報名鍵，對於到底這30天的馬拉松要做些什麼還不算很了解。

先從永豐金APIs的兩個子主題來談起。

### 永豐銀行消費支付API

永豐金控期下當然有相當多的子公司，這次列在裡面的一個是永豐銀行，一個是永豐證券。永豐銀行的APIs裡面完整看來應該是涵蓋四個主題，分別是：**消費支付、生活繳費、身分認證**與**開放銀行**。
![https://ithelp.ithome.com.tw/upload/images/20210916/20130354UoRndKCSmD.png](https://ithelp.ithome.com.tw/upload/images/20210916/20130354UoRndKCSmD.png)

在永豐銀的Developer網站上其實沒有太多公開的API資訊，多人需要再與專人聯繫取得進一步的手冊或sample code，其中有一個「API試驗」的頁面只有提供片段的沙盒測試data，登入後點選右上角的「API目錄」會看到一個MockService的API，提供了四個功能是和銀行外幣、分行資訊、匯率、ATM資訊相關，看起來範圍也不是完整的四大主題的內容。

![https://ithelp.ithome.com.tw/upload/images/20210916/20130354HcaEE5SXVD.png](https://ithelp.ithome.com.tw/upload/images/20210916/20130354HcaEE5SXVD.png)

![https://ithelp.ithome.com.tw/upload/images/20210916/20130354tb8qwCDrl0.png](https://ithelp.ithome.com.tw/upload/images/20210916/20130354tb8qwCDrl0.png)

![https://ithelp.ithome.com.tw/upload/images/20210916/20130354htDvfTMNL4.png](https://ithelp.ithome.com.tw/upload/images/20210916/20130354htDvfTMNL4.png)

因此看起來相要一探究竟，是需要和專人聯繫或像這次與iThome鐵人賽合作，所以填寫相關資訊才能取得這次設定的`消費支付`主題服務完整的API文件，在平台即使註冊成為永豐Developer是無法直接在網站看到完整訊息。

在和永豐申請了鐵人賽參賽的資訊後，會在email收到開發新手村大禮包，裡面會給參賽者相關的開發用資訊以及使用手冊和Sample Code (有附上C#和PHP)。

目前看一下手冊的理解，這個永豐銀行金流的API的行銷名稱叫`豐收款`，主要是提供店家可作線上收款的服務給客戶。其中包含可建立訂單以及後續的信用卡交易服務。

銀行的金流服務中不可避免的，應該會有較多的安全流程需要逐一設定與交握，因此看了一下API文件的大綱，有一大部份是會需要先搞定一些進行消費支費的前置作業。

目前對這一塊理解是這樣，至於需要用什麼語言來串接與撰寫，倒是不需要受限語言方式，雖然官方給了C#以及PHP Sample。

### 永豐證券 Shioaji API

![https://ithelp.ithome.com.tw/upload/images/20210916/20130354W8i58No5it.png](https://ithelp.ithome.com.tw/upload/images/20210916/20130354W8i58No5it.png)
另一個主題則是和股票期貨交易有關的證券API - `Shioaji`，他有一個特殊的名稱與很有設計感的Logo，讓我感覺到蠻新鮮的。這是一個日語，`塩味(しおあじ / Shioaji)`，至於名稱的由來是什麼我倒是沒在官網上看到解釋，而是在豐雲學堂的一位鐘榮達講師那看到的解釋是「結晶」的意思。
> 3. 何謂 Shioaji
> Shioaji 是永豐金證券開發的 API 介面，提供了報價、下單和帳戶查詢等功能，官方也有詳細的技術文件，而 Shioaji 本身是日文代表結晶的意思，主要是期待使用此套件的開發者能在股市中收穫珍貴的成果結晶
> https://www.sinotrade.com.tw/richclub/PythonAPI/video/01-%E7%94%A8-Python-%E4%B8%B2%E6%8E%A5%E5%88%B8%E5%95%86-API---%E5%8F%96%E5%BE%97%E6%AD%B7%E5%8F%B2-Tick-%E8%B3%87%E6%96%99%E8%88%87-K-%E6%A3%92-5fe06055f8acb91ca4fc04f3

Shioaji主要可讓經申請授權的客戶，可自由撰寫程式針對其自身的證券帳戶，依據所取得之公開資訊進行分析，加上自由彈性的個人投資策略，進行自動化的交易，更進一步是可透過這樣的方式分析過去資料，在數據資料的支持下去達成有紀律的投資，稱之為`量化交易`。


### 主題確認後
在主題大約確認後，就是要看接下來30天要寫些什麼了。在我看來鐵人賽是一個自由奔放的技術經驗分享方式，因此確立主題與範圍後，倒也不想設限應該怎麼樣的進行方式。但可以知道的是，Shioaji的主題，股市開盤時間等於上班時間，這一點是有一點困難執行一些API的即時驗證或測試工作。所以目前決定先放飛自我，兩邊主題都先淺嘗看看，然後隨時調整。

在工作忙碌之餘還沒事逼自己參加鐵人賽，我想這件事本身就已經足夠有趣了，接下來每一篇寫的多還是少，整體的撰文配速需要依工作與休假日隨機而定囉。

期待能從這個過程中學到一些東西。