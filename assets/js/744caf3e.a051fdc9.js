"use strict";(self.webpackChunkcodetenshu=self.webpackChunkcodetenshu||[]).push([[6218],{3905:(e,n,t)=>{t.d(n,{Zo:()=>c,kt:()=>k});var a=t(7294);function i(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function r(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function p(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?r(Object(t),!0).forEach((function(n){i(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):r(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function o(e,n){if(null==e)return{};var t,a,i=function(e,n){if(null==e)return{};var t,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)t=r[a],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)t=r[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}var l=a.createContext({}),s=function(e){var n=a.useContext(l),t=n;return e&&(t="function"==typeof e?e(n):p(p({},n),e)),t},c=function(e){var n=s(e.components);return a.createElement(l.Provider,{value:n},e.children)},d="mdxType",u={inlineCode:"code",wrapper:function(e){var n=e.children;return a.createElement(a.Fragment,{},n)}},m=a.forwardRef((function(e,n){var t=e.components,i=e.mdxType,r=e.originalType,l=e.parentName,c=o(e,["components","mdxType","originalType","parentName"]),d=s(t),m=i,k=d["".concat(l,".").concat(m)]||d[m]||u[m]||r;return t?a.createElement(k,p(p({ref:n},c),{},{components:t})):a.createElement(k,p({ref:n},c))}));function k(e,n){var t=arguments,i=n&&n.mdxType;if("string"==typeof e||i){var r=t.length,p=new Array(r);p[0]=m;var o={};for(var l in n)hasOwnProperty.call(n,l)&&(o[l]=n[l]);o.originalType=e,o[d]="string"==typeof e?e:i,p[1]=o;for(var s=2;s<r;s++)p[s]=t[s];return a.createElement.apply(null,p)}return a.createElement.apply(null,t)}m.displayName="MDXCreateElement"},283:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>p,default:()=>d,frontMatter:()=>r,metadata:()=>o,toc:()=>s});var a=t(7462),i=(t(7294),t(3905));const r={sidebar_position:28},p=void 0,o={unversionedId:"finance-bank-api/Day27 - \u6c38\u8c50\u7dda\u4e0a\u6536\u6b3e\u652f\u4ed8API\u529f\u80fd\u5be6\u4f5c\u7e3d\u7d50(3) - \u5982\u4f55\u8b93\u6a5f\u654f\u6027\u8a2d\u5b9a\u503c\u66f4\u6709\u4fdd\u8b77\u529b",id:"finance-bank-api/Day27 - \u6c38\u8c50\u7dda\u4e0a\u6536\u6b3e\u652f\u4ed8API\u529f\u80fd\u5be6\u4f5c\u7e3d\u7d50(3) - \u5982\u4f55\u8b93\u6a5f\u654f\u6027\u8a2d\u5b9a\u503c\u66f4\u6709\u4fdd\u8b77\u529b",title:"Day27 - \u6c38\u8c50\u7dda\u4e0a\u6536\u6b3e\u652f\u4ed8API\u529f\u80fd\u5be6\u4f5c\u7e3d\u7d50(3) - \u5982\u4f55\u8b93\u6a5f\u654f\u6027\u8a2d\u5b9a\u503c\u66f4\u6709\u4fdd\u8b77\u529b",description:"\u5728\u524d\u4e00\u7bc7\u6587\u7ae0\uff0c\u6211\u5011\u5206\u6790\u4e86\u5404\u500b\u8cc7\u5b89\u9632\u8b77\u7684\u5f37\u5f31\u8981\u9ede\uff0c\u4f46\u7531\u65bc\u56fa\u5b9a\u5f0f\u7684\u521d\u59cb\u56dbHash\u7d44\u4ee3\u78bc\u662f\u76ee\u524d\u5b89\u5168\u6027\u6700\u5f31\u7684\u90e8\u4efd\uff0c\u5168\u4ef0\u8cf4\u4eba\u70ba\u4fdd\u8b77\uff0c\u82e5\u662f\u76f4\u63a5\u5beb\u5728Code\u88e1\u9762\uff0c\u90a3\u4e00\u4f86\u662f\u4f5c\u7a0b\u5f0f\u78bc\u7ba1\u63a7\u6642\u6703\u628a\u5177\u6a5f\u654f\u6027\u8cc7\u6599\u4e5f\u4e00\u8d77\u6492\u51fa\u53bb\u7d66\u5176\u4ed6\u5171\u540c\u53c3\u8207\u958b\u767c\u8005\u5916\uff0c\u53e6\u4e00\u65b9\u4e5f\u964d\u4f4e\u5efa\u7f6e\u4f48\u7f72\u82e5\u672a\u4f86\u6709\u9700\u8981\u4fee\u6539\u6642\u7684\u5f48\u6027(\u4e5f\u5c31\u662f\u82e5\u9019\u4e9b\u503c\u8981\u4fee\u6539\uff0c\u5c31\u8981\u91cd\u65b0\u6539code\uff0c\u91cd\u65b0\u4e0a\u7dda)\u3002",source:"@site/docs/finance-bank-api/Day27 - \u6c38\u8c50\u7dda\u4e0a\u6536\u6b3e\u652f\u4ed8API\u529f\u80fd\u5be6\u4f5c\u7e3d\u7d50(3) - \u5982\u4f55\u8b93\u6a5f\u654f\u6027\u8a2d\u5b9a\u503c\u66f4\u6709\u4fdd\u8b77\u529b.md",sourceDirName:"finance-bank-api",slug:"/finance-bank-api/Day27 - \u6c38\u8c50\u7dda\u4e0a\u6536\u6b3e\u652f\u4ed8API\u529f\u80fd\u5be6\u4f5c\u7e3d\u7d50(3) - \u5982\u4f55\u8b93\u6a5f\u654f\u6027\u8a2d\u5b9a\u503c\u66f4\u6709\u4fdd\u8b77\u529b",permalink:"/docs/finance-bank-api/Day27 - \u6c38\u8c50\u7dda\u4e0a\u6536\u6b3e\u652f\u4ed8API\u529f\u80fd\u5be6\u4f5c\u7e3d\u7d50(3) - \u5982\u4f55\u8b93\u6a5f\u654f\u6027\u8a2d\u5b9a\u503c\u66f4\u6709\u4fdd\u8b77\u529b",draft:!1,tags:[],version:"current",sidebarPosition:28,frontMatter:{sidebar_position:28},sidebar:"tutorialSidebar",previous:{title:"Day26 - \u6c38\u8c50\u7dda\u4e0a\u6536\u6b3e\u652f\u4ed8API\u529f\u80fd\u5be6\u4f5c\u7e3d\u7d50(2)",permalink:"/docs/finance-bank-api/Day26 - \u6c38\u8c50\u7dda\u4e0a\u6536\u6b3e\u652f\u4ed8API\u529f\u80fd\u5be6\u4f5c\u7e3d\u7d50(2)"},next:{title:"Day28 - Shioaji - \u8d85\u5165\u9580\uff01\u6c38\u8c50\u8b49\u5238\u7a0b\u5f0f\u4ea4\u6613API\u5feb\u901f\u4e0a\u624b (1)",permalink:"/docs/finance-bank-api/Day28 - Shioaji - \u8d85\u5165\u9580\uff01\u6c38\u8c50\u8b49\u5238\u7a0b\u5f0f\u4ea4\u6613API\u5feb\u901f\u4e0a\u624b (1)"}},l={},s=[{value:"STEP1. \u628a\u6a5f\u654f\u6027\u5c6c\u6027\u5f9eCode\u4e2d\u62bd\u96e2\u51fa\u4f86",id:"step1-\u628a\u6a5f\u654f\u6027\u5c6c\u6027\u5f9ecode\u4e2d\u62bd\u96e2\u51fa\u4f86",level:3},{value:"\u4f7f\u7528settings\u4f86\u8b80\u53d6",id:"\u4f7f\u7528settings\u4f86\u8b80\u53d6",level:4},{value:"\u5982\u4f55\u8b93\u4ed6\u66f4\u5177\u5b89\u5168\u6027",id:"\u5982\u4f55\u8b93\u4ed6\u66f4\u5177\u5b89\u5168\u6027",level:4},{value:"dotenv\u7528\u8d77\u4f86",id:"dotenv\u7528\u8d77\u4f86",level:4},{value:"\u518d\u4f86\uff0c\u9084\u6709\u8981\u6ce8\u610f\u7684\u5730\u65b9",id:"\u518d\u4f86\u9084\u6709\u8981\u6ce8\u610f\u7684\u5730\u65b9",level:4},{value:"\u770b\u4e00\u4e0b\u6c38\u8c50\u7684C# Sample Code",id:"\u770b\u4e00\u4e0b\u6c38\u8c50\u7684c-sample-code",level:3},{value:"\u53ef\u4ee5\u66f4\u5b89\u5168\u55ce\uff1f",id:"\u53ef\u4ee5\u66f4\u5b89\u5168\u55ce",level:4}],c={toc:s};function d(e){let{components:n,...t}=e;return(0,i.kt)("wrapper",(0,a.Z)({},c,t,{components:n,mdxType:"MDXLayout"}),(0,i.kt)("p",null,"\u5728\u524d\u4e00\u7bc7\u6587\u7ae0\uff0c\u6211\u5011\u5206\u6790\u4e86\u5404\u500b\u8cc7\u5b89\u9632\u8b77\u7684\u5f37\u5f31\u8981\u9ede\uff0c\u4f46\u7531\u65bc\u56fa\u5b9a\u5f0f\u7684\u521d\u59cb\u56dbHash\u7d44\u4ee3\u78bc\u662f\u76ee\u524d\u5b89\u5168\u6027\u6700\u5f31\u7684\u90e8\u4efd\uff0c\u5168\u4ef0\u8cf4\u4eba\u70ba\u4fdd\u8b77\uff0c\u82e5\u662f\u76f4\u63a5\u5beb\u5728Code\u88e1\u9762\uff0c\u90a3\u4e00\u4f86\u662f\u4f5c\u7a0b\u5f0f\u78bc\u7ba1\u63a7\u6642\u6703\u628a\u5177\u6a5f\u654f\u6027\u8cc7\u6599\u4e5f\u4e00\u8d77\u6492\u51fa\u53bb\u7d66\u5176\u4ed6\u5171\u540c\u53c3\u8207\u958b\u767c\u8005\u5916\uff0c\u53e6\u4e00\u65b9\u4e5f\u964d\u4f4e\u5efa\u7f6e\u4f48\u7f72\u82e5\u672a\u4f86\u6709\u9700\u8981\u4fee\u6539\u6642\u7684\u5f48\u6027(\u4e5f\u5c31\u662f\u82e5\u9019\u4e9b\u503c\u8981\u4fee\u6539\uff0c\u5c31\u8981\u91cd\u65b0\u6539code\uff0c\u91cd\u65b0\u4e0a\u7dda)\u3002"),(0,i.kt)("p",null,"\u6240\u4ee5\u61c9\u8a72\u6709\u66f4\u597d\u7684\u65b9\u5f0f\u4f86\u8655\u7406\u76f8\u95dc\u7684\u6a5f\u654f\u6027\u8cc7\u6599\uff0c\u6211\u5011\u9010\u4e00\u76e4\u9ede\u4e00\u4e0b\uff0c\u4e00\u8d77\u4fee\u6b63\uff1a"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"\u56db\u7d44Hash\u4ee3\u78bc\uff1a\u70ba\u4e86\u7522\u751f\u4f5c\u70baAES Key\u7684HashID\uff0c\u4e00\u958b\u59cb\u7531\u6c38\u8c50\u63d0\u4f9b\u7d66\u6211\u5011\u7684"),(0,i.kt)("li",{parentName:"ol"},"ShopNo\u5546\u5e97\u4ee3\u78bc\uff1a\u9019\u500b\u770b\u4f60\u8a8d\u70ba\u9700\u4e0d\u9700\u8981\u9632\u8b77\uff0c\u4f46\u63d0\u9192\u4e00\u4e0b\uff0c\u53d6\u5f97Nonce\u503c\u662f\u6703\u9700\u8981\u50b3\u51faShopNo\u7684\u3002"),(0,i.kt)("li",{parentName:"ol"},"DB\u7684\u8cc7\u6599\u5eab\u5bc6\u78bc")),(0,i.kt)("p",null,"\u63a5\u4e0b\u4f86\u6211\u5011\u53ef\u4ee5\u601d\u8003\u5982\u4f55\u66f4\u6709\u6548\u7684\u7ba1\u7406\u3002"),(0,i.kt)("h3",{id:"step1-\u628a\u6a5f\u654f\u6027\u5c6c\u6027\u5f9ecode\u4e2d\u62bd\u96e2\u51fa\u4f86"},"STEP1. \u628a\u6a5f\u654f\u6027\u5c6c\u6027\u5f9eCode\u4e2d\u62bd\u96e2\u51fa\u4f86"),(0,i.kt)("p",null,"\u6211\u5011\u5148\u524d\u628aHash A1, A2, B1, B2\u90fd\u653e\u5728\u7a0b\u5f0f\u78bc\u88e1\u9762\uff0c\u70ba\u4e86\u9a57\u8b49\u76ee\u7684\uff0c\u6240\u4ee5\u76f4\u63a5\u9019\u6a23\u4f7f\u7528\u7576\u7136\u6700\u70ba\u65b9\u4fbf\u3002\u4f46\u6211\u5011\u65e2\u7136\u8ac7\u5230\u8cc7\u5b89\u662f\u91d1\u6d41\u670d\u52d9\u76f8\u7576\u91cd\u8981\u7684\u74b0\u7bc0\uff0c\u5c31\u628a\u9019\u4e00\u90e8\u4efd\u4e5f\u4e00\u8d77\u505a\u66f4\u512a\u5316\u7684\u8655\u7406\u3002"),(0,i.kt)("h4",{id:"\u4f7f\u7528settings\u4f86\u8b80\u53d6"},"\u4f7f\u7528settings\u4f86\u8b80\u53d6"),(0,i.kt)("p",null,"\u6211\u5011\u5728settings.py\u4e2d\uff0c\u53ef\u4ee5\u65b0\u589e\u56db\u7d44Hash\u4ee3\u78bc\u7684\u5c6c\u6027\uff1a"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},'HASH_A1 = "86D50DEF3EB7400E"\nHASH_A2 = "01FD27C09E5549E5"\nHASH_B1 = "9E004965F4244953"\nHASH_B2 = "7FB3385F414E4F91"\n')),(0,i.kt)("p",null,"\u7136\u5f8c\u5728\u4f7f\u7528\u7684code\u4e2d\uff0c\u539f\u672c\u662f\u9019\u6a23\u7528\u7684\uff0c\u4ee5sinopacutil.py\u4e2d\u7684ApiMessage\u7247\u6bb5\uff1a"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-python"},'class ApiMessage:\n    shop_no = "NA0249_001"\n    api_url = "https://sandbox.sinopac.com/QPay.WebAPI/api/Order"\n    A1, A2, B1, B2 = "86D50DEF3EB7400E", "01FD27C09E5549E5", "9E004965F4244953", "7FB3385F414E4F91"\n\n    def __init__(self, api_service):\n\n        self.hash_id = SinopacUtil.get_hash_id(ApiMessage.A1, ApiMessage.A2, ApiMessage.B1, ApiMessage.B2)\n    # ... \u5f8c\u9762\u7565 ...\n')),(0,i.kt)("p",null,"\u539f\u672c\u662f\u76f4\u63a5\u628a\u9019\u5e7e\u500b\u503c\u76f4\u63a5\u5beb\u5728\u7a0b\u5f0f\u78bc\u88e1\uff0c\u73fe\u5728\u5f9esettings\u4e2d\u8b80\u53d6\uff0c\u53ef\u4ee5\u6539\u5beb\u6210\u9019\u6a23\uff1a"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-python"},'from django.conf import settings\n\nclass ApiMessage:\n    shop_no = "NA0249_001"\n    api_url = "https://sandbox.sinopac.com/QPay.WebAPI/api/Order"\n    A1, A2, B1, B2 = settings.HASH_A1, settings.HASH_A2, settings.HASH_B1, settings.HASH_B2\n\n    def __init__(self, api_service):\n\n        self.hash_id = SinopacUtil.get_hash_id(ApiMessage.A1, ApiMessage.A2, ApiMessage.B1, ApiMessage.B2)\n    # ... \u5f8c\u9762\u7565 ...\n')),(0,i.kt)("p",null,"\u5982\u6b64\u4e00\u4f86\uff0c\u5c31\u5b8c\u6210\u7b2c\u4e00\u90e8\uff1a\u4e0d\u8981\u628a\u8a2d\u5b9a\u503chard code\u5728\u7a0b\u5f0f\u78bc\u4e2d\uff0c\u9019\u4e00\u6b65\u548c\u8cc7\u5b89\u6c92\u6709\u592a\u5927\u95dc\u4fc2\uff0c\u7d14\u7cb9\u5c31\u65e5\u5f8c\u7dad\u8b77\u89d2\u5ea6\u4f86\u770b\u662f\u6bd4\u8f03\u6b63\u78ba\u7684\u4f5c\u6cd5\u3002"),(0,i.kt)("h4",{id:"\u5982\u4f55\u8b93\u4ed6\u66f4\u5177\u5b89\u5168\u6027"},"\u5982\u4f55\u8b93\u4ed6\u66f4\u5177\u5b89\u5168\u6027"),(0,i.kt)("p",null,"\u5728settings.py\u4e2d\u7684\u9019\u4e9b\u5c6c\u6027\u76ee\u524d\u9084\u662f\u628a\u503c\u76f4\u63a5\u5beb\u5728\u88e1\u9762\uff0c\u800csettings.py\u662f\u9700\u8981\u88ab\u7a0b\u5f0f\u78bc\u7248\u63a7\u7684\uff0c\u6240\u4ee5\u9084\u6709\u6539\u5584\u7a7a\u9593\u3002"),(0,i.kt)("p",null,"\u9019\u500b\u6642\u5019\u5c31\u8981\u5f15\u5165python\u597d\u7528\u7684\u74b0\u5883\u8b8a\u6578\u5de5\u5177",(0,i.kt)("strong",{parentName:"p"},"dotenv"),"\u4f86\u4f5c\u7ba1\u7406\uff0c\u9996\u5148\u8981\u5148\u9032\u884c\u5957\u4ef6\u7684\u5b89\u88dd\u3002dotenv\u6709django-dotenv\u4ee5\u53capython-dotenv\u5169\u500b\u4e0d\u540c\u7684\u5957\u4ef6\uff0c\u7248\u672c\u8207\u7528\u6cd5\u4e5f\u4e0d\u76e1\u76f8\u540c\uff0c\u4f46\u4ee5\u666e\u504f\u6027\u800c\u8a00\u662fpython-dotenv\u8f03\u591a\u4eba\u4f7f\u7528\uff0c\u53c3\u8003\u6587\u737b\u4e5f\u8f03\u591a\uff0c\u5efa\u8b70\u53ef\u5b89\u88dd\u9019\u500b\u3002"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"> pip install python-dotenv\n")),(0,i.kt)("p",null,"\u76ee\u524d\u6211\u7684\u5b89\u88dd\u7248\u672c\u662f0.19.1\u7248\uff0c\u5b89\u88dd\u5b8c\u6210\u5f8c\uff0c\u8a18\u5f97\u66f4\u65b0\u5230\u6839\u76ee\u9304\u4e0b\u7684requirements.txt\u6a94\uff0c\u4fbf\u65bc\u4e4b\u5f8c\u4f5c\u5efa\u7f6e\u6642\u540c\u6b65\u5b89\u88dd\u3002"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"> pip freeze > requirements.txt\n")),(0,i.kt)("h4",{id:"dotenv\u7528\u8d77\u4f86"},"dotenv\u7528\u8d77\u4f86"),(0,i.kt)("p",null,"\u8aaa\u4e86\u9019\u9ebc\u591a\uff0c\u5230\u5e95dotenv\u8981\u600e\u9ebc\u4f7f\u7528\uff1f\u9996\u5148\u6211\u5011\u8981\u5728django project\u76ee\u9304\u5e95\u4e0b(mysite/mysite)\u65b0\u589e\u4e00\u500b",(0,i.kt)("inlineCode",{parentName:"p"},".env"),"\u7684\u6a94\u6848\uff0c\u88e1\u9762\u5c31\u662f\u5c07\u4f60\u9700\u8981\u8a2d\u5b9a\u7684\u5c6c\u6027(\u4ee5\u5168\u5927\u5beb\u547d\u540d\uff0c\u5efa\u8b70\u76f4\u63a5\u548csettings\u4e00\u81f4)\u76f4\u63a5\u5b9a\u7fa9\u5728\u9019\u500b\u6a94\u88e1\u9762\u3002"),(0,i.kt)("p",null,"\u65bc",(0,i.kt)("inlineCode",{parentName:"p"},".env"),"\u6a94\u4e2d\uff1a"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"HASH_A1=86D50DEF3EB7400E\nHASH_A2=01FD27C09E5549E5\nHASH_B1=9E004965F4244953\nHASH_B2=7FB3385F414E4F91\n")),(0,i.kt)("p",null,"\u8a3b\uff1a\u9019\u4e0d\u662fPython\u6a94\uff0c\u6240\u4ee5\u4e0d\u9700\u8981\u5728\u5b57\u4e32\u52a0\u4e0a\u524d\u5f8c\u7684\u5f15\u865f"),(0,i.kt)("p",null,"\u7136\u5f8c\u6211\u5011\u518d\u56de\u5230",(0,i.kt)("inlineCode",{parentName:"p"},"settings.py"),"\u4e2d\uff0c\u6539\u5beb\u539f\u672c\u76f4\u63a5\u4ee5\u660e\u6587\u5b57\u4e32\uff0c\u63db\u6210\u5f9e.env\u8b80\u53d6\u9032\u4f86\u7684\u7cfb\u7d71\u74b0\u5883\u8b8a\u6578\u3002"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-python"},"from dotenv import load_dotenv\nload_dotenv()\n\nHASH_A1 = os.getenv('HASH_A1')\nHASH_A2 = os.getenv('HASH_A2')\nHASH_B1 = os.getenv('HASH_B1')\nHASH_B2 = os.getenv('HASH_B2')\n")),(0,i.kt)("p",null,"\u5728\u9019\u908a\uff0c\u6211\u5011\u9700\u8981\u5148\u5f15\u5165",(0,i.kt)("inlineCode",{parentName:"p"},"load_dotenv"),"\uff0c\u5728\u524d\u9762\u5148\u57f7\u884c",(0,i.kt)("inlineCode",{parentName:"p"},"load_dotenv()"),"\u5c07",(0,i.kt)("inlineCode",{parentName:"p"},".env"),"\u7684\u74b0\u5883\u8b8a\u6578\u8f09\u5165\u3002"),(0,i.kt)("p",null,"\u6240\u4ee5\u5f8c\u9762\u7684\u5e7e\u500b\u74b0\u5883\u8b8a\u6578\uff0c\u5c31\u53ef\u4ee5\u4f7f\u7528",(0,i.kt)("inlineCode",{parentName:"p"},"os.getenv()"),"\u65b9\u5f0f\u5c07\u5176\u503c\u8f09\u5165\uff0c\u5982\u6b64\u4e00\u4f86\u5c31\u628a\u5be6\u969b\u5b57\u4e32\u548c\u8a2d\u5b9a\u6a94\u5206\u958b\u4e86\u3002"),(0,i.kt)("h4",{id:"\u518d\u4f86\u9084\u6709\u8981\u6ce8\u610f\u7684\u5730\u65b9"},"\u518d\u4f86\uff0c\u9084\u6709\u8981\u6ce8\u610f\u7684\u5730\u65b9"),(0,i.kt)("p",null,"\u63a5\u8457\uff0c\u5c31\u662f\u8981\u8a2d\u5b9a",(0,i.kt)("inlineCode",{parentName:"p"},".gitignore"),"\u5c07",(0,i.kt)("inlineCode",{parentName:"p"},"*.env"),"\u52a0\u5165\uff0c\u8b93\u9019\u985e\u7684\u6a94\u6848\u4e0d\u8981\u88ab\u7a0b\u5f0f\u78bc\u7248\u63a7\u63a7\u7ba1\u3002\u6709\u5e7e\u500b\u5be6\u52d9\u4e0a\u7684\u4f5c\u6cd5\uff1a"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"\u958b\u767c\u8005\u64c1\u6709\u7684\u662f\u300c\u6e2c\u8a66Hash\u4ee3\u78bc\u300d\uff0c\u5728\u5176\u958b\u767c\u74b0\u5883\u4e2d\u53ef\u81ea\u5df1\u5b9a\u7fa9\u9019\u56db\u7d44Hash\u4ee3\u78bc\u5b57\u4e32\u65bc\u672c\u6a5f\u7684",(0,i.kt)("inlineCode",{parentName:"li"},".env"),"\u4e2d"),(0,i.kt)("li",{parentName:"ol"},"\u5be6\u969bProduction\u74b0\u5883\u7684\u300c\u6b63\u5f0fHash\u4ee3\u78bc\u300d\u662f\u7531\u5c08\u5c6c\u7684DBA\u89d2\u8272\u63a7\u7ba1\uff0c\u5c46\u6642\u5efa\u7f6e\u6642\u7531\u4ed6\u5011\u4f86\u7ba1\u7406\u9019\u90e8\u4efd\u7684\u8cc7\u8a0a"),(0,i.kt)("li",{parentName:"ol"},"\u53ef\u64b0\u5beb\u4e00\u500b",(0,i.kt)("inlineCode",{parentName:"li"},".env.template"),"\u6a94\u6848\uff0c\u88e1\u9762\u628a\u6240\u9700\u8981\u7684\u74b0\u5883\u8b8a\u6578Key\u503c\u5beb\u597d\uff0c\u4f46Value\u7559\u7a7a\uff0c\u8b93\u7a0b\u5f0f\u78bc\u4e0b\u8f09\u4e0b\u4f86\u5f8c\u7684\u958b\u767c\u8005\uff0c\u4e86\u89e3\u81ea\u5df1\u9700\u8981\u5728\u74b0\u5883\u52a0\u4e0a\u54ea\u4e9b\u74b0\u5883\u8b8a\u6578\u503c\u65bc.env\u4e2d\u3002")),(0,i.kt)("p",null,"\u9019\u6a23\u4e00\u4f86\uff0c\u6211\u5011\u5c31\u53ef\u4ee5\u6709\u6548\u7684\u5c07\u6a5f\u654f\u6027\u8cc7\u6599\u900f\u904e\u9019\u500b\u65b9\u5f0f\u5f9e\u7a0b\u5f0f\u78bc\u4e2d\u5340\u5206\u51fa\u4f86\uff0c\u4e26\u4e14\u4ee5\u6b0a\u8cac\u5340\u5206\u65b9\u5f0f\u9032\u884c\u7ba1\u7406\u8207\u5efa\u7f6e\u5de5\u4f5c\u3002"),(0,i.kt)("h3",{id:"\u770b\u4e00\u4e0b\u6c38\u8c50\u7684c-sample-code"},"\u770b\u4e00\u4e0b\u6c38\u8c50\u7684C# Sample Code"),(0,i.kt)("p",null,"\u5982\u679c\u4f60\u5c0d\u65bcC#\u7684\u7a0b\u5f0f\u78bc\u6709\u8208\u8da3\uff0c\u53ef\u4ee5\u4e0b\u8f09Visual Studio\u6253\u958bSample\u7684\u5c08\u6848\u7a0b\u5f0f\u78bc (QPay.SampleCode.sln)\n\u65bc\u6839\u76ee\u9304\u4e0b\uff0c\u53ef\u4ee5\u770b\u5230\u4e00\u500b",(0,i.kt)("inlineCode",{parentName:"p"},"appSettings.config"),"\u6a94\uff1a"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-xml"},'<appSettings>\n  \x3c!--Sandbox\u74b0\u5883--\x3e\n  \x3c!--\u53d6\u5f97\u5546\u696d\u6536\u4ed8API \u7db2\u5740--\x3e\n  <add key="QPayWebAPIUrl" value="https://apisbx.sinopac.com/funBIZ/QPay.WebAPI/api/"/>\n\n  \x3c!--\u4f9d\u5546\u5e97\u7de8\u865f\u53d6\u5f97\u5546\u5e97\u96dc\u6e4a\u503c(\u4f9dA1, A2, B1, B2\u6392\u5e8f, \u5546\u696d\u6536\u4ed8\u63d0\u4f9b)--\x3e\n  <add key="NA0001_001" value="65960834240E44B7,2831076A098E49E7,CB1AFFBF915A492B,7F242C0AA612454F"/>\n</appSettings>\n')),(0,i.kt)("p",null,"\u9019\u908a\u53ef\u4ee5\u770b\u5230\u6c38\u8c50\u7684C# Sample Code\u4e5f\u662f\u5c07\u9019\u4e9b\u6703\u7528\u5230\u7684\u8a2d\u5b9a\u503c\u62bd\u96e2\u51fa\u4f86\u653e\u5230App\u8a2d\u5b9a\u6a94\u4e2d\u3002\u770b\u5230Key\u70ba",(0,i.kt)("inlineCode",{parentName:"p"},"NA0001_001"),"(\u5546\u5e97\u4ee3\u865f)\u7684\u503c\uff0c\u4ee5\u9017\u865f\u9694\u958b\u7684\u5c31\u662f\u56db\u500bHash\u4ee3\u78bc\u3002"),(0,i.kt)("h4",{id:"\u53ef\u4ee5\u66f4\u5b89\u5168\u55ce"},"\u53ef\u4ee5\u66f4\u5b89\u5168\u55ce\uff1f"),(0,i.kt)("p",null,"\u5982\u679c\u4f60\u76f4\u63a5\u4f7f\u7528ASP.NET\u7684Web\u5c08\u6848\u9032\u884c\u958b\u767c\uff0c\u61c9\u8a72\u6703\u6709\u76f8\u5c0d\u61c9\u7684",(0,i.kt)("inlineCode",{parentName:"p"},"web.confg"),"\u6a94\uff0c\u800c\u9019\u985e\u7684\u6a94\u6848\u88e1\u9762\u662f\u6703\u6709\u653e\u7f6e\u6a5f\u654f\u6027\u8cc7\u6599\uff0c\u800c\u6700\u7d42\u4f48\u7f72\u5230\u7db2\u7ad9\u4e0a\u6642\u4e26\u4e0d\u5e0c\u671b\u4ee5\u660e\u78bc\u5b57\u4e32\u5beb\u5728\u8a2d\u5b9a\u6a94\u88e1\u9762\uff0c\u98a8\u96aa\u904e\u9ad8\u3002"),(0,i.kt)("p",null,"\u4f60\u53ef\u4ee5\u4f7f\u7528",(0,i.kt)("inlineCode",{parentName:"p"},"aspnet_regiis"),"\u7684\u52a0\u89e3\u5bc6\u65b9\u6cd5\uff0c\u5c07\u539f\u5148\u660e\u78ba\u5b57\u4e32\u7684\u8a2d\u5b9a\u6a94\uff0c\u52a0\u5bc6\u70ba\u5bc6\u6587\uff0c\u4f46\u4ecd\u7136\u53ef\u4ee5\u6b63\u5e38\u4f7f\u7528\u3002\n\u53ef\u53c3\u8003\u4ee5\u4e0b\u6587\u7ae0\u4f5c\u6cd5\uff1a\n",(0,i.kt)("a",{parentName:"p",href:"https://medium.com/work-insight/secure-your-net-config-files-part-1-251aed4ce4c8"},"https://medium.com/work-insight/secure-your-net-config-files-part-1-251aed4ce4c8"),"\n",(0,i.kt)("a",{parentName:"p",href:"https://ithelp.ithome.com.tw/articles/10231176"},"https://ithelp.ithome.com.tw/articles/10231176")))}d.isMDXComponent=!0}}]);